<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>مدیریت وظایف</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="toggle-theme" class="theme-toggle">🌙 حالت شب</button>

  <div class="container">
    <h1>مدیریت وظایف</h1>
    <p id="datetime" class="datetime"></p>

    <div class="input-group">
      <input type="text" id="taskInput" placeholder="وظیفه جدید را وارد کنید...">
      <button onclick="addTask()">افزودن</button>
    </div>

    <div class="task-section-switch">
      <button onclick="switchCategory('study')">📘 درسی</button>
      <button onclick="switchCategory('work')">💼 کاری</button>
      <button onclick="switchCategory('personal')">🏠 شخصی</button>
    </div>

    <div id="studyTasks" class="task-section">
      <h2>📘 وظایف درسی (<span id="count-study">0</span>)</h2>
      <ul></ul>
    </div>

    <div id="workTasks" class="task-section hidden">
      <h2>💼 وظایف کاری (<span id="count-work">0</span>)</h2>
      <ul></ul>
    </div>

    <div id="personalTasks" class="task-section hidden">
      <h2>🏠 وظایف شخصی (<span id="count-personal">0</span>)</h2>
      <ul></ul>
    </div>

    <div class="info-box">
      <h3>راهنمای استفاده از مدیریت وظایف</h3>
      <ul>
        <li>ابتدا وظیفه را وارد کرده و روی "افزودن" کلیک کنید.</li>
        <li>برای تغییر بخش، روی دکمه‌های درسی، کاری یا شخصی کلیک کنید.</li>
        <li>برای تیک‌زدن، روی وظیفه کلیک کنید.</li>
        <li>برای حذف، ابتدا تیک زده و سپس روی "حذف" کلیک کنید.</li>
      </ul>
    </div>

    <div class="quote-box">
      💡 «موفقیت، حاصل تلاش‌های کوچک و پیوسته است که هر روز تکرار می‌شوند.»
    </div>

    <footer class="footer-box">
      طراحی شده توسط <strong>عباس فخرایی</strong> | درس <strong>پروژه نرم‌افزار</strong>
    </footer>
  </div>

  <script>
    function updateDateTime() {
      const now = new Date();
      const dateTimeStr = now.toLocaleString("fa-IR", {hour12: false});
      document.getElementById("datetime").textContent = "تاریخ و ساعت: " + dateTimeStr;
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();

    function switchCategory(category) {
      const sections = document.querySelectorAll('.task-section');
      sections.forEach(section => section.classList.add('hidden'));
      document.getElementById(category + 'Tasks').classList.remove('hidden');
    }

    function updateTaskCounts() {
      const categories = ['study', 'work', 'personal'];
      categories.forEach(cat => {
        const count = document.querySelector(`#${cat}Tasks ul`).children.length;
        document.getElementById(`count-${cat}`).textContent = count;
      });
    }
  </script>

  <script src="script.js"></script>
</body>
</html>
